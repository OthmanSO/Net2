<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link rel="stylesheet" href="style.css" />

    <title>SNMP Maneger</title>
</head>

<body onload="getTCP()">

    <h1>TCP Info</h1>

        <table id="tcpTable1">
            <tr>
                <td>tcpConnLocalAddress	</td>
                <td>tcpConnLocalPort</td>
                <td>tcpConnRemAddress</td>
                <td>tcpConnRemPort</td>
            </tr>
        </table>

<div class="nextBack">
    <a href="system.html">&lt; Back</a>
    <h6>&nbsp; &nbsp;</h6>
    <a href="index.html"> home </a>
    <h6>&nbsp; &nbsp;</h6>
    <a href="udp.html">Next &gt;</a>
</div>

    <script>
    function getTCP(){
        str = "TCP"; //connection value
        const xhttp = new XMLHttpRequest();
        xhttp.onload = function() {

            var TCPtable1 = (this.responseText).split("|&&&|"); //split address and array --> Adress,Port
            for(let i =1 ; i<=TCPtable1.length ;i++){
                var table = document.getElementById("tcpTable1");
                var row = table.insertRow(i); //which row to be inserted
                var cell1 = row.insertCell(0); //which column to be inserted
                var cell2 = row.insertCell(1);
                var cell3 = row.insertCell(2);
                var cell4 = row.insertCell(3);

                let AP_ARR = TCPtable1[i-1].split(","); //split every index in TCPAdressPortArray (Adress,Port)
                
                cell1.innerHTML = AP_ARR[0]; //the data that we need to insert it to cell
                cell2.innerHTML = AP_ARR[1];
                cell3.innerHTML = AP_ARR[2];
                cell4.innerHTML = AP_ARR[3];
            }
        }

        xhttp.open("GET", "dataGet.php?data="+str);
        xhttp.send();
    }
</script>
    
</body>

</html>